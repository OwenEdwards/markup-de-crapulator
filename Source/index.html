<!DOCTYPE html>
<html lang="en-GB">
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="simple-grid.css" />
    <link rel="stylesheet" href="common.css" />
    <link rel="stylesheet" href="highlight/styles/a11y-light.css">
    <title>HTML De-crapulator</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, shrink-to-fit=no" />
    <style>
      #txtConverted {
        margin-top: 10px;
      }
      [aria-pressed="true"] {
        filter: invert();
      }
      h1 {display: inline-block;}
      h1:before {
        background: url(poop.png);
        background-size: cover;
        display: inline-block;
        width: 25px;
        height: 25px;
        content: "";
        margin-right: 10px;
      }
      #wut {margin-left: 2em;transform: translateY(-0.4em);z-index: 1;}
      #indentLevel label {
        margin-right: 3px;
      }
      #txtRaw {
        height: 23em;
      }
      pre {
        white-space: pre-wrap;
      }
      #txtConverted {
        height: 38em;
        display: block;
        overflow: scroll;
        font-size: 12px;
        border:1px solid gray;
        padding: 5px;
        background: #fff;
      }
      #otherFilters h3 {margin: 10px 0 0 0;font-size: 1em;}
      #log {text-align: center;min-height: 2.6em;background:#fff;padding: 0.7em 0 0.5em 0;border-radius: 5px;}
      #log:empty {background: transparent;}
      #log span {font-weight: bold;}
      fieldset fieldset {border:none;padding: 0;}
      legend h2, legend h3 {margin: 0;font-size: 1em;}
      #miscAttribs div {margin: 5px 0;}
    </style>
  </head>

  <body>
    <main>
      
      <h1>HTML De-crapulator</h1>
      
      <form action="">
        <div class="container">
          <div class="row">
            <div id="col1" class="column col-4">
              <div><label for="txtRaw">Paste Raw HTML:</label></div>
              <div>
<textarea id="txtRaw" rows="8" cols="55">&lt;button aria-label="Something settings" class="blah whatever etc"&gt;
&lt;!-- comment, innit --&gt;
&lt;div&gt;&lt;/div&gt;
&lt;div&gt;
&lt;span&gt;&lt;/span&gt;
&lt;/div&gt;
&lt;img src="../resources/cog.png" alt="Settings"&gt;
&lt;/button&gt;</textarea>

              </div>
              <button type="button" id="clear">Reset everything</button>
              <div>
                <fieldset id="indentLevel">
                  <legend><h2>Indenting</h2></legend>
                  <fieldset>
                    <legend>Style</legend>
                    <span><input value=" " id="rad_Indentstyle_1" name="rad_Indentstyle" type="radio" checked /> <label for="rad_Indentstyle_1">Spaces</label></span>
                    <span><input value="	" id="rad_Indentstyle_2" name="rad_Indentstyle" type="radio" /> <label for="rad_Indentstyle_2">Tabs</label></span>
                  </fieldset>
                  <fieldset>
                    <legend>Depth</legend>
                    <span><input value="0" id="rad_Indentdepth_0" name="rad_Indentdepth" type="radio" /> <label for="rad_Indentdepth_0">0</label></span>
                    <span><input value="1" id="rad_Indentdepth_1" name="rad_Indentdepth" type="radio" checked /> <label for="rad_Indentdepth_1">1</label></span>
                    <span><input value="2" id="rad_Indentdepth_2" name="rad_Indentdepth" type="radio" /> <label for="rad_Indentdepth_2">2</label></span>
                    <span><input value="3" id="rad_Indentdepth_3" name="rad_Indentdepth" type="radio" /> <label for="rad_Indentdepth_3">3</label></span>
                    <span><input value="4" id="rad_Indentdepth_4" name="rad_Indentdepth" type="radio" /> <label for="rad_Indentdepth_4">4</label></span>
                  </fieldset>
                </fieldset>
              </div>
            </div>
            <div id="col2" class="column col-4">
              <fieldset id="otherFilters">
                <legend><h2>Strip out the following:</h2></legend>
                <fieldset>
                	<legend><h3>Tags/Other:</h3></legend>
	                <div class="row">
	                  <input id="chk_emptyTags" type="checkbox" />
	                  <span><label for="chk_emptyTags">empty tags</label></span>
	                </div>
	                <div>
	                  <input id="chk_angularNgCrapTags" type="checkbox" />
	                  <span><label for="chk_angularNgCrapTags">&lt;ng-*&gt; Angular tags</label></span>
	                </div>
	                <div>
	                  <input id="chk_HTMLcomments" type="checkbox" />
	                  <span><label for="chk_HTMLcomments">&lt;--&nbspHTML&nbspcomments&nbsp--&gt;</label></span>
	                </div>
                </fieldset>
                <fieldset>
                	<legend><h3>Attributes:</h3></legend>
	                <div>
	                  <input id="chk_class" type="checkbox" aria-label="class attributes" />
	                  <span><label for="chk_class">class</label></span>
	                </div>
	                <div>
	                  <input id="chk_style" type="checkbox" aria-label="style attributes" />
	                  <span><label for="chk_style">style</label></span>
	                </div>
	                <div>
	                  <input id="chk_dataDash" type="checkbox" aria-label="data- hyphenated attributes" />
	                  <span><label for="chk_dataDash">data-</label></span>
	                </div>
	                <div>
	                  <input id="chk_onclick" type="checkbox" aria-label="onclick attributes (all lowercase)" />
	                  <span><label for="chk_onclick">onclick</label></span>
	                </div>
	                <div>
	                  <input id="chk_onClickReact" type="checkbox" aria-label="onClick (React) attributes (with capitalized C)" />
	                  <span><label for="chk_onClickReact">onClick (React)</label></span>
	                </div>
	                <div>
	                  <input id="chk_angularNgCrapAttributes1" type="checkbox" aria-label="ng- (Angular) n g hyphenated attributes" />
	                  <span><label for="chk_angularNgCrapAttributes1">ng- (Angular)</label></span>
	                </div>
	                <div>
	                  <input id="chk_angularNgCrapAttributes2" type="checkbox" aria-label="_ng (Angular) underscore n g attributes" />
	                  <span><label for="chk_angularNgCrapAttributes2">_ng (Angular)</label></span>
	                </div>
                  <button type="button" class="wide" id="removeAll" aria-pressed="false"><span aria-hidden="true">^ </span>Remove all of the above</button>
                  <div id="miscAttribs">
                    <div>
                      <span><label for="txt_customAttrs">Custom data attributes</label></span>
                      <input id="txt_customAttrs" placeholder="e.g. dt-, src-" type="text" aria-describedby="note2" />
                      <input id="txt_customAttrs" placeholder="e.g. dt-, src-" type="text" aria-describedby="note2" />
                    </div>
                    <div>
                      <span><label for="txt_otherMiscAttrs">Other misc attributes</label></span>
                      <input id="txt_otherMiscAttrs" placeholder="e.g. tabindex, title" type="text" aria-describedby="note3" />
                    </div>
                  </div>
                </fieldset>
              </fieldset>
            </div>
            <div id="col3" class="column col-4">
              <div><label for="txtConverted">Cleaned-up HTML:</label></div>
              <div><pre><code class="html" id="txtConverted" contenteditable="true"></code></pre></div>
            </div>
          </div>
        </div>
      </form>
    </main>
    <div hidden id="tempDOMDumpingGround"></div>
    <div id="log" aria-atomic="true" role="status"></div>
    <h3>Notes</h3>
    <ul>
      <li id="note1">Empty tags: means empty <code>&lt;div&gt;...&lt;/div&gt;</code> rather than empty elements liks <code>&lt;img&gt;</code> etc</li>
      <li id="note2">Custom data attributes: or, in fact, any attribute that is hyphenated can be entered as a comma-separated list. This includes aria attributes</li>
      <li id="note3">Other misc attributes: literally any other attribute that you want to remove. Enter in this field as a comma-separated list.</li>
    </ul>
    <hr>
    <p>Made by <a href="https://twitter.com/lloydi" aria-label="Lloydi (Twitter)">Lloydi</a></p>
    <p><a href="https://github.com/lloydi/markup-de-crapulator">View this on GitHub</a> or <a href="https://github.com/lloydi/markup-de-crapulator/issues">file an issue</a> if there's something you'd like to see it do.</p>
  </body>
  <script src="../common.js"></script>
  <script src="indent.js"></script>
  <script src="highlight/highlight.pack.js"></script>
  <script src="de-crapulator.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
</html>
